<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>实验数据记录与分析</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
    <div class="container mt-5">
        <h1>用几何方法测量π的数值</h1>
        <hr>

        <h2>1. 实验方案设计</h2>
        <p><strong>实验目的:</strong> 通过测量圆的周长和直径，计算圆周率π的近似值，并进行数据分析。</p>
        <p><strong>实验器材:</strong> 圆形物体（例如：杯盖、硬币）、软尺、直尺、纸、笔。</p>
        <p><strong>实验步骤:</strong></p>
        <ol>
            <li>选择一个圆形物体。</li>
            <li>使用直尺多次测量圆形物体的直径，记录数据并计算平均值。</li>
            <li>使用软尺多次测量圆形物体的周长，记录数据并计算平均值。</li>
            <li>利用公式 π = 周长 / 直径 计算π的近似值。</li>
            <li>更换不同大小的圆形物体，重复以上步骤，进行多组测量。</li>
            <li>对多组π值进行统计分析，计算平均值和不确定度，并与公认值进行比较。</li>
        </ol>
        <hr>

        <h2>2. 数据记录与处理</h2>
        <!-- 这是新增的控制按钮 -->
        <button id="toggle-visibility-btn" class="btn btn-secondary mb-3">显示/隐藏数据输入区域</button>

        <!-- 这是新增的、包裹了表单的容器，默认是隐藏的 -->
        <div id="data-input-section" style="display: none;">
            <form id="data-form">
                <div class="form-group">
                    <label for="diameter">圆的直径 (cm):</label>
                    <input type="text" class="form-control" id="diameter" placeholder="请输入测量得到的直径">
                </div>
                <div class="form-group">
                    <label for="circumference">圆的周长 (cm):</label>
                    <input type="text" class="form-control" id="circumference" placeholder="请输入测量得到的周长">
                </div>
                <button type="button" class="btn btn-primary" id="submitData">提交/更新本组数据</button>
            </form>
        </div>
        <hr>
        
        <h2>3. 数据分析结果</h2>
        <div class="analysis-results mt-4">
            <p><strong>当前计算的π值:</strong> <span id="current-pi">--</span></p>
            <table class="table table-bordered mt-3">
                <thead>
                    <tr>
                        <th>组号</th>
                        <th>直径 (cm)</th>
                        <th>周长 (cm)</th>
                        <th>计算的π值</th>
                        <th>操作</th>
                    </tr>
                </thead>
                <tbody id="results-table">
                    <!-- 数据行将通过JavaScript动态插入 -->
                </tbody>
            </table>
            <div class="summary mt-4">
                <h4>数据汇总</h4>
                <p><strong>π的平均值:</strong> <span id="average-pi">--</span></p>
                <p><strong>标准差 (不确定度):</strong> <span id="std-deviation">--</span></p>
                <p><strong>与公认值 (3.14159) 的相对误差:</strong> <span id="relative-error">--</span></p>
                <button class="btn btn-danger" id="clear-all-data">清空所有数据</button>
            </div>
        </div>
        <hr>
    </div>

    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="assets/js/script.js"></script>
</body>
</html>
