<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>实验记录单 - 六年级数学公开课</title>
    
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div id="connectionStatus" class="connection-status disconnected">连接中...</div>
        
        <h1>实验记录单</h1>
        
        <div class="input-section">
            <div class="group-input">
                <h2>实验方案设计</h2>
                
                <div class="form-group">
                    <label for="groupNumber">小组编号：</label>
                    <input type="text" id="groupNumber" placeholder="请填写小组编号，例如：第1小组">
                </div>
                
                <div class="form-group">
                    <label for="tools">实验器材：</label>
                    <input type="text" id="tools" placeholder="例如：圆形瓶盖、软尺、直尺">
                </div>

                <div class="form-group purpose-display">
                    <label>实验目的：</label>
                    <p>探究圆的周长是直径的几倍。</p>
                </div>

                <div class="form-group">
                    <label for="plan">实验步骤：</label>
                    <textarea id="plan" placeholder="请详细描述你们的实验步骤"></textarea>
                </div>

                <button id="showDataFields">完善方案，进行实验，填写数据</button>

                <!-- 1. 数据填写区默认隐藏 -->
                <div id="dataEntrySection" style="display: none;">
                    <div class="form-group">
                        <label for="diameter">圆的直径 (cm)：(实验数据收集)</label>
                        <input type="number" id="diameter" step="0.1" placeholder="请输入测量得到的直径">
                    </div>
                    <div class="form-group">
                        <label for="circumference">圆的周长 (cm)：</label>
                        <input type="number" id="circumference" step="0.1" placeholder="请输入测量得到的周长">
                    </div>
                    <div class="form-group">
                        <label for="ratio">周长 ÷ 直径 = ( )  (除不尽的保留两位小数)</label>
                        <input type="number" id="ratio" step="0.01" placeholder="请使用计算器计算">
                    </div>
                    <button id="addData">提交/更新本组数据</button>
                </div>
            </div>
        </div>
        
        <!-- 2. 数据汇总表区域也默认隐藏 -->
        <div id="dataTableSection" style="display: none;">
            <h2>实验数据汇总表</h2>
            <table class="data-table">
                <thead>
                    <tr>
                        <th>小组编号</th>
                        <th>实验器材</th>
                        <th>实验方案</th>
                        <th>直径 (cm)</th>
                        <th>周长 (cm)</th>
                        <th>周长 ÷ 直径</th>
                        <th>操作</th>
                    </tr>
                </thead>
                <tbody id="dataBody">
                    <!-- 数据将通过Supabase实时同步 -->
                </tbody>
            </table>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="script.js"></script>
</body>
</html>
